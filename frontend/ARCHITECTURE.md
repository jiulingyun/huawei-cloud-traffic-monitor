# å‰ç«¯é¡¹ç›®æ¶æ„è¯´æ˜

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue.js 3.4 (Composition API)
- **æ„å»ºå·¥å…·**: Vite 5.0
- **è·¯ç”±**: Vue Router 4.2
- **çŠ¶æ€ç®¡ç†**: Pinia 2.1
- **UI ç»„ä»¶åº“**: Element Plus 2.5
- **HTTP å®¢æˆ·ç«¯**: Axios 1.6
- **ä»£ç è§„èŒƒ**: ESLint + Prettier

## é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # API æ¥å£æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ accounts.js   # è´¦æˆ·ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ configs.js    # é…ç½®ç®¡ç† API
â”‚   â”‚   â””â”€â”€ servers.js    # æœåŠ¡å™¨/ç›‘æ§ API
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/           # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ logo.svg      # Logo å›¾æ ‡
â”‚   â”‚
â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ layouts/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ MainLayout.vue  # ä¸»å¸ƒå±€ï¼ˆä¾§è¾¹æ +é¡¶æ ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js      # è·¯ç”±å®šä¹‰ + è·¯ç”±å®ˆå«
â”‚   â”‚
â”‚   â”œâ”€â”€ store/            # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ app.js        # åº”ç”¨å…¨å±€çŠ¶æ€
â”‚   â”‚   â””â”€â”€ user.js       # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/           # å…¨å±€æ ·å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ request.js    # Axios å°è£…ï¼ˆæ‹¦æˆªå™¨ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ auth/         # è®¤è¯ç›¸å…³
â”‚   â”‚   â”‚   â””â”€â”€ LoginView.vue
â”‚   â”‚   â”œâ”€â”€ dashboard/    # ä»ªè¡¨æ¿
â”‚   â”‚   â”‚   â””â”€â”€ DashboardView.vue
â”‚   â”‚   â”œâ”€â”€ accounts/     # è´¦æˆ·ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ AccountsView.vue
â”‚   â”‚   â”œâ”€â”€ configs/      # ç›‘æ§é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ ConfigsView.vue
â”‚   â”‚   â”œâ”€â”€ servers/      # æœåŠ¡å™¨ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ ServersView.vue
â”‚   â”‚   â”œâ”€â”€ logs/         # æ—¥å¿—æŸ¥çœ‹
â”‚   â”‚   â”‚   â””â”€â”€ LogsView.vue
â”‚   â”‚   â””â”€â”€ settings/     # ç³»ç»Ÿè®¾ç½®
â”‚   â”‚       â””â”€â”€ SettingsView.vue
â”‚   â”‚
â”‚   â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js           # å…¥å£æ–‡ä»¶
â”‚
â”œâ”€â”€ .env.development      # å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€â”€ .env.production       # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ vite.config.js        # Vite é…ç½®
â”œâ”€â”€ package.json          # ä¾èµ–é…ç½®
â””â”€â”€ ARCHITECTURE.md       # æœ¬æ–‡æ¡£

## æ ¸å¿ƒåŠŸèƒ½

### 1. HTTP å®¢æˆ·ç«¯ (request.js)

**ç‰¹æ€§**:
- ç»Ÿä¸€çš„è¯·æ±‚/å“åº”æ‹¦æˆªå™¨
- è‡ªåŠ¨æ·»åŠ  Authorization token
- é”™è¯¯å¤„ç†å’Œæç¤ºï¼ˆ401/403/404/500ï¼‰
- 30ç§’è¶…æ—¶è®¾ç½®
- æ”¯æŒç¯å¢ƒå˜é‡é…ç½® baseURL

**ä½¿ç”¨ç¤ºä¾‹**:
```javascript
import request from '@/utils/request'

request({
  url: '/v1/accounts',
  method: 'get'
})
```

### 2. è·¯ç”±é…ç½® (router/index.js)

**è·¯ç”±ç»“æ„**:
- `/login` - ç™»å½•é¡µï¼ˆä¸éœ€è¦è®¤è¯ï¼‰
- `/` - ä¸»åº”ç”¨ï¼ˆéœ€è¦è®¤è¯ï¼‰
  - `/` - ä»ªè¡¨æ¿
  - `/accounts` - è´¦æˆ·ç®¡ç†
  - `/configs` - ç›‘æ§é…ç½®
  - `/servers` - æœåŠ¡å™¨ç®¡ç†
  - `/logs` - æ—¥å¿—æŸ¥çœ‹
  - `/settings` - ç³»ç»Ÿè®¾ç½®

**è·¯ç”±å®ˆå«**:
- æœªç™»å½•è®¿é—®éœ€è®¤è¯é¡µé¢ â†’ è·³è½¬ç™»å½•é¡µ
- å·²ç™»å½•è®¿é—®ç™»å½•é¡µ â†’ è·³è½¬ä»ªè¡¨æ¿
- æ”¯æŒç™»å½•åé‡å®šå‘åˆ°åŸé¡µé¢

### 3. çŠ¶æ€ç®¡ç† (Pinia)

#### User Store (store/user.js)
**çŠ¶æ€**:
- `token`: è®¿é—®ä»¤ç‰Œ
- `userInfo`: ç”¨æˆ·ä¿¡æ¯
- `isLoggedIn`: ç™»å½•çŠ¶æ€ï¼ˆè®¡ç®—å±æ€§ï¼‰

**æ–¹æ³•**:
- `setToken()`: è®¾ç½® token
- `setUserInfo()`: è®¾ç½®ç”¨æˆ·ä¿¡æ¯
- `logout()`: é€€å‡ºç™»å½•

#### App Store (store/app.js)
**çŠ¶æ€**:
- `sidebarCollapsed`: ä¾§è¾¹æ æŠ˜å çŠ¶æ€
- `loading`: å…¨å±€åŠ è½½çŠ¶æ€
- `theme`: ä¸»é¢˜è®¾ç½®

**æ–¹æ³•**:
- `toggleSidebar()`: åˆ‡æ¢ä¾§è¾¹æ 
- `setLoading()`: è®¾ç½®åŠ è½½çŠ¶æ€
- `setTheme()`: è®¾ç½®ä¸»é¢˜

### 4. ä¸»å¸ƒå±€ (MainLayout.vue)

**ç»„æˆ**:
- ä¾§è¾¹æ ï¼š
  - Logo + åº”ç”¨åç§°
  - å¯¼èˆªèœå•ï¼ˆå¯æŠ˜å ï¼‰
  - 6ä¸ªä¸»è¦åŠŸèƒ½æ¨¡å—
  
- é¡¶éƒ¨æ ï¼š
  - æŠ˜å æŒ‰é’®
  - é¢åŒ…å±‘å¯¼èˆª
  - ç”¨æˆ·ä¿¡æ¯ + ä¸‹æ‹‰èœå•
  
- å†…å®¹åŒºï¼š
  - è·¯ç”±è§†å›¾
  - é¡µé¢åˆ‡æ¢åŠ¨ç”»

**æ ·å¼**:
- ä¾§è¾¹æ ï¼šæ·±è‰²ä¸»é¢˜ (#304156)
- é¡¶éƒ¨æ ï¼šç™½è‰² (#fff)
- å†…å®¹åŒºï¼šæµ…ç°èƒŒæ™¯ (#f0f2f5)

### 5. API æ¨¡å—

#### accounts.js (8ä¸ªæ¥å£)
- `getAccounts()`: è·å–è´¦æˆ·åˆ—è¡¨
- `getAccountDetail()`: è·å–è´¦æˆ·è¯¦æƒ…
- `createAccount()`: åˆ›å»ºè´¦æˆ·
- `updateAccount()`: æ›´æ–°è´¦æˆ·
- `deleteAccount()`: åˆ é™¤è´¦æˆ·
- `enableAccount()`: å¯ç”¨è´¦æˆ·
- `disableAccount()`: ç¦ç”¨è´¦æˆ·
- `testAccountConnection()`: æµ‹è¯•è¿æ¥

#### configs.js (7ä¸ªæ¥å£)
- `getConfigs()`: è·å–é…ç½®åˆ—è¡¨
- `getGlobalConfig()`: è·å–å…¨å±€é…ç½®
- `getEffectiveConfig()`: è·å–æœ‰æ•ˆé…ç½®
- `getConfigDetail()`: è·å–é…ç½®è¯¦æƒ…
- `createConfig()`: åˆ›å»ºé…ç½®
- `updateConfig()`: æ›´æ–°é…ç½®
- `deleteConfig()`: åˆ é™¤é…ç½®

#### servers.js (4ä¸ªæ¥å£)
- `getServers()`: è·å–æœåŠ¡å™¨åˆ—è¡¨
- `getMonitorLogs()`: è·å–ç›‘æ§æ—¥å¿—
- `getMonitorStats()`: è·å–ç›‘æ§ç»Ÿè®¡
- `triggerMonitor()`: æ‰‹åŠ¨è§¦å‘ç›‘æ§

## å¼€å‘æŒ‡å—

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
cd frontend
npm run dev
```
è®¿é—®: http://localhost:5173

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```
è¾“å‡ºç›®å½•: `dist/`

### ä»£ç æ£€æŸ¥
```bash
npm run lint
```

## ç¯å¢ƒé…ç½®

### å¼€å‘ç¯å¢ƒ (.env.development)
- API Base URL: `/api` (ä»£ç†åˆ° http://localhost:8000)

### ç”Ÿäº§ç¯å¢ƒ (.env.production)
- API Base URL: `/api` (æ ¹æ®éƒ¨ç½²é…ç½®)

## å½“å‰çŠ¶æ€

### å·²å®Œæˆ âœ…
- Vue 3 + Vite é¡¹ç›®æ¶æ„
- è·¯ç”±é…ç½®ï¼ˆ6ä¸ªä¸»è¦é¡µé¢ï¼‰
- Pinia çŠ¶æ€ç®¡ç†ï¼ˆuser + appï¼‰
- Element Plus UI ç»„ä»¶åº“é›†æˆ
- Axios HTTP å®¢æˆ·ç«¯å°è£…
- ä¸»å¸ƒå±€ç»„ä»¶ï¼ˆä¾§è¾¹æ  + é¡¶æ ï¼‰
- API æ¨¡å—å°è£…ï¼ˆaccounts + configs + serversï¼‰
- è·¯ç”±å®ˆå«ï¼ˆè®¤è¯æ£€æŸ¥ï¼‰
- å ä½é¡µé¢ï¼ˆ6ä¸ªåŠŸèƒ½æ¨¡å—ï¼‰

### å¾…å¼€å‘ ğŸš§
- M4-T2: ç”¨æˆ·è®¤è¯ä¸ç™»å½•ç•Œé¢
- M4-T3: ä»ªè¡¨æ¿ä¸ç›‘æ§æ¦‚è§ˆ
- M4-T4: è´¦æˆ·ç®¡ç†ç•Œé¢
- M4-T5: ç›‘æ§é…ç½®ç•Œé¢
- M4-T6: æœåŠ¡å™¨ç®¡ç†ç•Œé¢
- M4-T7: æ—¥å¿—æŸ¥çœ‹ä¸ç³»ç»Ÿè®¾ç½®

## éªŒæ”¶æ ‡å‡†

âœ… **Vue.js 3é¡¹ç›®æ¶æ„æ­å»ºå®Œæˆ**
- ä½¿ç”¨ Vue 3 Composition API
- Vite æ„å»ºå·¥å…·é…ç½®
- ç›®å½•ç»“æ„æ¸…æ™°

âœ… **è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†é…ç½®å®Œæˆ**
- Vue Router 4 è·¯ç”±é…ç½®
- Pinia çŠ¶æ€ç®¡ç†
- è·¯ç”±å®ˆå«å®ç°

âœ… **UIç»„ä»¶åº“é›†æˆå®Œæˆ**
- Element Plus é›†æˆ
- å›¾æ ‡ç»„ä»¶æ³¨å†Œ
- ä¸»é¢˜æ ·å¼é…ç½®

## æ„å»ºéªŒè¯

```bash
npm run build
# âœ“ built in 2.34s
# âœ“ æ‰€æœ‰æ¨¡å—æ­£å¸¸ç¼–è¯‘
```
